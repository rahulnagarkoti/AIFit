@{
    ViewData["Title"] = "Suggestions";
    float totalDuration = 0;
    float totalCalories = 0;
    int workoutId=0;
}


<table class="table">
    <thead class="thead-dark">
        <tr>
            <th scope="col">Exercise</th>
            <th scope="col">Total Time</th>
            <th scope="col">Total Burn</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in ViewBag.Exercises)
        {
            workoutId = item.WorkoutId;
            totalDuration += item.TotalTime;
            totalCalories += item.TotalBurn;
            <tr>
                <td>@item.ExerciseName</td>
                <td>@item.TotalTime</td>
                <td>@item.TotalBurn</td>
            </tr>


        }
        <tr>
            <td><b>Total</b></td>
            <td><b>@totalDuration Minutes</b></td>
            <td><b>@totalCalories Calories</b></td>
        </tr>
        <input type="hidden" id="workoutId" value="@workoutId" class="hidden" />

    </tbody>
</table>

<a href="#" id="alternativeSuggestion">See Other Workouts</a>
<button class="btn btn-primary" id="saveSuggestions">Accept</button>


<script>
    $(function () {
        $("#alternativeSuggestion").on("click", function () {
            workoutId = $("#workoutId").val();
            $.ajax(
                {
                    url: "/Suggestion/GetAlternativeSuggestions",
                    method: "POST",
                    data: { workoutId: workoutId },
                    success: function (res)
                    {
                        $("#main-body").html(res);
                    }
                })
        });

        $("#saveSuggestions").on("click", function () {
            workoutId = $("#workoutId").val();
            $.ajax(
                {
                    url: "/Suggestion/saveSuggestion",
                    method: "POST",
                    data: { workoutId: workoutId },
                    success: function (res) {
                        $("#main-body").html(res);
                    }
                })
        });
    });
</script>